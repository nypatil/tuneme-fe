{"ast":null,"code":"import { RouterLink, RouterLinkActive } from '@angular/router';\nimport { NAV_ITEMS } from '../../shared/nav-items';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/user-profile.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = () => ({\n  exact: true\n});\nfunction HeaderComponent_ng_container_4_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", item_r1.route)(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r1.label);\n  }\n}\nfunction HeaderComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HeaderComponent_ng_container_4_a_1_Template, 2, 4, \"a\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.shouldShowMenuItem(item_r1));\n  }\n}\nexport class HeaderComponent {\n  constructor(authService, userProfileService) {\n    this.authService = authService;\n    this.userProfileService = userProfileService;\n    this.navItems = NAV_ITEMS;\n    this.topLevelNavItems = []; // New property for filtered top-level items\n    this.currentUserRole = '';\n    this.selectedLanguage = '';\n  }\n  ngOnInit() {\n    this.currentUserRole = this.authService.getUserRole();\n    const profile = this.userProfileService.getProfileData();\n    if (profile && profile['Current-User-Language']) {\n      this.selectedLanguage = profile['Current-User-Language'];\n    }\n    console.log('currentUserProfileData from localStorage:', profile);\n    // Filter NAV_ITEMS for top-level display\n    const topLevelLabels = ['Home', 'My Knowledge', 'My Health', 'Find A Service', 'My Favourites'];\n    this.topLevelNavItems = this.navItems.filter(item => topLevelLabels.includes(item.label));\n  }\n  onLanguageChange(event) {\n    const language = event.target.value;\n    const profile = this.userProfileService.getProfileData() || {\n      countryOffice: 'Botswana',\n      'Current-User-Language': 'en'\n    };\n    profile['Current-User-Language'] = language;\n    this.userProfileService.saveProfileData(profile);\n    this.selectedLanguage = language;\n  }\n  shouldShowMenuItem(item) {\n    if (!item.roles) {\n      return true; // Show if no specific roles are defined\n    }\n    return item.roles.includes(this.currentUserRole);\n  }\n  static {\n    this.ɵfac = function HeaderComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || HeaderComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserProfileService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HeaderComponent,\n      selectors: [[\"app-header\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 18,\n      vars: 2,\n      consts: [[1, \"header\"], [1, \"header-left\"], [\"src\", \"assets/logo.png\", \"alt\", \"Logo\", 1, \"logo\"], [1, \"header-nav\"], [4, \"ngFor\", \"ngForOf\"], [1, \"header-right\"], [\"routerLink\", \"/home\", 1, \"download-btn\"], [1, \"user-profile\"], [1, \"country-dropdown\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"en\"], [\"value\", \"fr\"], [\"value\", \"gr\"], [\"routerLinkActive\", \"active-link\", \"class\", \"nav-link\", 3, \"routerLink\", \"routerLinkActiveOptions\", 4, \"ngIf\"], [\"routerLinkActive\", \"active-link\", 1, \"nav-link\", 3, \"routerLink\", \"routerLinkActiveOptions\"]],\n      template: function HeaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1);\n          i0.ɵɵelement(2, \"img\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"nav\", 3);\n          i0.ɵɵtemplate(4, HeaderComponent_ng_container_4_Template, 2, 1, \"ng-container\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 5)(6, \"a\", 6);\n          i0.ɵɵtext(7, \"Download\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 7)(9, \"span\");\n          i0.ɵɵtext(10, \"Language\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"select\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function HeaderComponent_Template_select_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedLanguage, $event) || (ctx.selectedLanguage = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function HeaderComponent_Template_select_change_11_listener($event) {\n            return ctx.onLanguageChange($event);\n          });\n          i0.ɵɵelementStart(12, \"option\", 9);\n          i0.ɵɵtext(13, \"en\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"option\", 10);\n          i0.ɵɵtext(15, \"fr\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"option\", 11);\n          i0.ɵɵtext(17, \"gr\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.topLevelNavItems);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedLanguage);\n        }\n      },\n      dependencies: [RouterLink, RouterLinkActive, CommonModule, i3.NgForOf, i3.NgIf, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n      styles: [\".header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 15px 30px; \\n\\n  background-color: var(--background-white); \\n\\n  border-bottom: none; \\n\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); \\n\\n  position: fixed; \\n\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1000; \\n\\n    font-family: Roboto, sans-serif;\\n    font-weight: 400;\\n    color: #000000;\\n    line-height: 1.7;\\n    font-size: 18px;\\n}\\n\\n.header-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%] {\\n  height: 50px; \\n\\n}\\n\\n.header-nav[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 30px; \\n\\n}\\n\\n.nav-link[_ngcontent-%COMP%] {\\n    display: block;\\n    padding: 20px 20px 17px 20px;\\n    text-transform: uppercase;\\n    color: #ffffff;\\n    font-weight: 500;\\n    font-size: 0.75em;\\n    letter-spacing: 0.02em;\\n    outline: none;\\n    box-sizing: content-box;\\n    text-decoration: none; \\n\\n    position: relative; \\n\\n    transition: color 0.3s ease; \\n\\n}\\n\\n.nav-link[_ngcontent-%COMP%]::after {\\n  content: '';\\n  position: absolute;\\n  width: 0;\\n  height: 2px;\\n  bottom: 0;\\n  left: 0;\\n  background-color: var(--primary-color);\\n  transition: width 0.3s ease;\\n}\\n\\n.nav-link[_ngcontent-%COMP%]:hover {\\n  color: var(--primary-color);\\n}\\n\\n.nav-link[_ngcontent-%COMP%]:hover::after {\\n  width: 100%;\\n}\\n\\n.nav-link.active-link[_ngcontent-%COMP%] {\\n  color: var(--primary-color) !important;\\n}\\n\\n.nav-link.active-link[_ngcontent-%COMP%]::after {\\n  width: 100%;\\n}\\n\\n.header-right[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 25px; \\n\\n}\\n\\n.download-btn[_ngcontent-%COMP%] {\\n  background-color: #0F9D58; \\n\\n  color: white;\\n  border: none;\\n  padding: 10px 25px; \\n\\n  border-radius: 25px; \\n\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n}\\n\\n.download-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #0B8043; \\n\\n  transform: translateY(-2px);\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\\n}\\n\\n.download-btn[_ngcontent-%COMP%]:active {\\n  transform: translateY(0);\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.user-profile[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  color: var(--text-color-light);\\n}\\n\\n.country-dropdown[_ngcontent-%COMP%] {\\n  padding: 8px 12px;\\n  border-radius: 8px; \\n\\n  border: 1px solid var(--border-color);\\n  background-color: var(--background-white);\\n  font-size: 0.95em;\\n  cursor: pointer;\\n  color: var(--text-color-dark);\\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\\n}\\n\\n.country-dropdown[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: var(--primary-color);\\n  box-shadow: 0 0 0 0.2rem rgba(var(--primary-color), 0.25);\\n}\\n\\n\\n\\n@media (max-width: 992px) {\\n  .header-nav[_ngcontent-%COMP%] {\\n    gap: 15px;\\n  }\\n  .header-right[_ngcontent-%COMP%] {\\n    gap: 15px;\\n  }\\n}\\n\\n@media (max-width: 768px) {\\n  .header[_ngcontent-%COMP%] {\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    padding: 10px 20px;\\n  }\\n  .header-left[_ngcontent-%COMP%], \\n   .header-right[_ngcontent-%COMP%] {\\n    width: 100%;\\n    justify-content: center;\\n    margin-bottom: 10px;\\n  }\\n  .header-nav[_ngcontent-%COMP%] {\\n    width: 100%;\\n    justify-content: center;\\n    margin-bottom: 10px;\\n  }\\n  .download-btn[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixrQkFBa0IsRUFBRSxzQkFBc0I7RUFDMUMseUNBQXlDLEVBQUUscUJBQXFCO0VBQ2hFLG1CQUFtQixFQUFFLDBCQUEwQjtFQUMvQywwQ0FBMEMsRUFBRSxrQkFBa0I7RUFDOUQsZUFBZSxFQUFFLDZCQUE2QjtFQUM5QyxXQUFXO0VBQ1gsTUFBTTtFQUNOLE9BQU87RUFDUCxhQUFhLEVBQUUsb0NBQW9DO0lBQ2pELCtCQUErQjtJQUMvQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25COztBQUVBO0VBQ0UsWUFBWSxFQUFFLHlCQUF5QjtBQUN6Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTLEVBQUUsb0NBQW9DO0FBQ2pEOztBQUVBO0lBQ0ksY0FBYztJQUNkLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIscUJBQXFCLEVBQUUsa0JBQWtCO0lBQ3pDLGtCQUFrQixFQUFFLGtCQUFrQjtJQUN0QywyQkFBMkIsRUFBRSxrQkFBa0I7QUFDbkQ7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixXQUFXO0VBQ1gsU0FBUztFQUNULE9BQU87RUFDUCxzQ0FBc0M7RUFDdEMsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0Usc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixTQUFTLEVBQUUsa0JBQWtCO0FBQy9COztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsdUJBQXVCO0VBQ2xELFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCLEVBQUUscUJBQXFCO0VBQ3pDLG1CQUFtQixFQUFFLGlCQUFpQjtFQUN0QyxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGlGQUFpRjtFQUNqRix5Q0FBeUM7QUFDM0M7O0FBRUE7RUFDRSx5QkFBeUIsRUFBRSwwQkFBMEI7RUFDckQsMkJBQTJCO0VBQzNCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLHdCQUF3QjtFQUN4Qix3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCLEVBQUUsaUJBQWlCO0VBQ3JDLHFDQUFxQztFQUNyQyx5Q0FBeUM7RUFDekMsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZiw2QkFBNkI7RUFDN0Isd0RBQXdEO0FBQzFEOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGtDQUFrQztFQUNsQyx5REFBeUQ7QUFDM0Q7O0FBRUEsc0NBQXNDO0FBQ3RDO0VBQ0U7SUFDRSxTQUFTO0VBQ1g7RUFDQTtJQUNFLFNBQVM7RUFDWDtBQUNGOztBQUVBO0VBQ0U7SUFDRSxlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtFQUNwQjtFQUNBOztJQUVFLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsbUJBQW1CO0VBQ3JCO0VBQ0E7SUFDRSxXQUFXO0lBQ1gsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtFQUNyQjtFQUNBO0lBQ0UsZ0JBQWdCO0VBQ2xCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxNXB4IDMwcHg7IC8qIEluY3JlYXNlZCBwYWRkaW5nICovXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtd2hpdGUpOyAvKiBXaGl0ZSBiYWNrZ3JvdW5kICovXG4gIGJvcmRlci1ib3R0b206IG5vbmU7IC8qIFJlbW92ZSBkZWZhdWx0IGJvcmRlciAqL1xuICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7IC8qIFN1YnRsZSBzaGFkb3cgKi9cbiAgcG9zaXRpb246IGZpeGVkOyAvKiBLZWVwIGhlYWRlciBmaXhlZCBhdCB0b3AgKi9cbiAgd2lkdGg6IDEwMCU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogMTAwMDsgLyogRW5zdXJlIGl0J3MgYWJvdmUgb3RoZXIgY29udGVudCAqL1xuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBjb2xvcjogIzAwMDAwMDtcbiAgICBsaW5lLWhlaWdodDogMS43O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbn1cblxuLmhlYWRlci1sZWZ0IC5sb2dvIHtcbiAgaGVpZ2h0OiA1MHB4OyAvKiBTbGlnaHRseSBsYXJnZXIgbG9nbyAqL1xufVxuXG4uaGVhZGVyLW5hdiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMzBweDsgLyogSW5jcmVhc2VkIGdhcCBiZXR3ZWVuIG5hdiBpdGVtcyAqL1xufVxuXG4ubmF2LWxpbmsge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBhZGRpbmc6IDIwcHggMjBweCAxN3B4IDIwcHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjAyZW07XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IC8qIEtlZXAgZXhpc3RpbmcgKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIEtlZXAgZXhpc3RpbmcgKi9cbiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzIGVhc2U7IC8qIEtlZXAgZXhpc3RpbmcgKi9cbn1cblxuLm5hdi1saW5rOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDJweDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xufVxuXG4ubmF2LWxpbms6aG92ZXIge1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG59XG5cbi5uYXYtbGluazpob3Zlcjo6YWZ0ZXIge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm5hdi1saW5rLmFjdGl2ZS1saW5rIHtcbiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpICFpbXBvcnRhbnQ7XG59XG5cbi5uYXYtbGluay5hY3RpdmUtbGluazo6YWZ0ZXIge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmhlYWRlci1yaWdodCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMjVweDsgLyogSW5jcmVhc2VkIGdhcCAqL1xufVxuXG4uZG93bmxvYWQtYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBGOUQ1ODsgLyogUHJvZmVzc2lvbmFsIGdyZWVuICovXG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAxMHB4IDI1cHg7IC8qIEFkanVzdGVkIHBhZGRpbmcgKi9cbiAgYm9yZGVyLXJhZGl1czogMjVweDsgLyogTW9yZSByb3VuZGVkICovXG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2UsIGJveC1zaGFkb3cgMC4zcyBlYXNlO1xuICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cblxuLmRvd25sb2FkLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwQjgwNDM7IC8qIERhcmtlciBzaGFkZSBvbiBob3ZlciAqL1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIGJveC1zaGFkb3c6IDAgNnB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbn1cblxuLmRvd25sb2FkLWJ0bjphY3RpdmUge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi51c2VyLXByb2ZpbGUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yLWxpZ2h0KTtcbn1cblxuLmNvdW50cnktZHJvcGRvd24ge1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4OyAvKiBNb3JlIHJvdW5kZWQgKi9cbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC13aGl0ZSk7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yLWRhcmspO1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycyBlYXNlLCBib3gtc2hhZG93IDAuMnMgZWFzZTtcbn1cblxuLmNvdW50cnktZHJvcGRvd246Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSh2YXIoLS1wcmltYXJ5LWNvbG9yKSwgMC4yNSk7XG59XG5cbi8qIFJlc3BvbnNpdmUgYWRqdXN0bWVudHMgZm9yIGhlYWRlciAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XG4gIC5oZWFkZXItbmF2IHtcbiAgICBnYXA6IDE1cHg7XG4gIH1cbiAgLmhlYWRlci1yaWdodCB7XG4gICAgZ2FwOiAxNXB4O1xuICB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuaGVhZGVyIHtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICB9XG4gIC5oZWFkZXItbGVmdCxcbiAgLmhlYWRlci1yaWdodCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuICAuaGVhZGVyLW5hdiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuICAuZG93bmxvYWQtYnRuIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["RouterLink","RouterLinkActive","NAV_ITEMS","CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","item_r1","route","ɵɵpureFunction0","_c0","ɵɵadvance","ɵɵtextInterpolate","label","ɵɵelementContainerStart","ɵɵtemplate","HeaderComponent_ng_container_4_a_1_Template","ctx_r1","shouldShowMenuItem","HeaderComponent","constructor","authService","userProfileService","navItems","topLevelNavItems","currentUserRole","selectedLanguage","ngOnInit","getUserRole","profile","getProfileData","console","log","topLevelLabels","filter","item","includes","onLanguageChange","event","language","target","value","countryOffice","saveProfileData","roles","ɵɵdirectiveInject","i1","AuthService","i2","UserProfileService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","HeaderComponent_Template","rf","ctx","ɵɵelement","HeaderComponent_ng_container_4_Template","ɵɵtwoWayListener","HeaderComponent_Template_select_ngModelChange_11_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","HeaderComponent_Template_select_change_11_listener","ɵɵtwoWayProperty","i3","NgForOf","NgIf","i4","NgSelectOption","ɵNgSelectMultipleOption","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\np59585\\gemini-angular-app\\Sample1\\src\\app\\components\\header\\header.component.ts","C:\\Users\\np59585\\gemini-angular-app\\Sample1\\src\\app\\components\\header\\header.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RouterLink, RouterLinkActive } from '@angular/router';\nimport { NAV_ITEMS, NavItem } from '../../shared/nav-items';\nimport { AuthService } from '../../services/auth.service';\nimport { CommonModule } from '@angular/common';\nimport { UserProfileService } from '../../services/user-profile.service';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-header',\n  standalone: true,\n  imports: [RouterLink, RouterLinkActive, CommonModule, FormsModule],\n  templateUrl: './header.component.html',\n  styleUrl: './header.component.css'\n})\nexport class HeaderComponent implements OnInit {\n  navItems: NavItem[] = NAV_ITEMS;\n  topLevelNavItems: NavItem[] = []; // New property for filtered top-level items\n  currentUserRole: string = '';\n  selectedLanguage: string = '';\n\n  constructor(\n    private authService: AuthService,\n    private userProfileService: UserProfileService\n  ) { }\n\n  ngOnInit(): void {\n    this.currentUserRole = this.authService.getUserRole();\n    const profile = this.userProfileService.getProfileData();\n    if (profile && profile['Current-User-Language']) {\n      this.selectedLanguage = profile['Current-User-Language'];\n    }\n    console.log('currentUserProfileData from localStorage:', profile);\n\n    // Filter NAV_ITEMS for top-level display\n    const topLevelLabels = [\n      'Home',\n      'My Knowledge',\n      'My Health',\n      'Find A Service',\n      'My Favourites'\n    ];\n    this.topLevelNavItems = this.navItems.filter(item => topLevelLabels.includes(item.label));\n  }\n\n  onLanguageChange(event: Event): void {\n    const language = (event.target as HTMLSelectElement).value;\n    const profile = this.userProfileService.getProfileData() || { countryOffice: 'Botswana', 'Current-User-Language': 'en' };\n    profile['Current-User-Language'] = language;\n    this.userProfileService.saveProfileData(profile);\n    this.selectedLanguage = language;\n  }\n\n  shouldShowMenuItem(item: NavItem): boolean {\n    if (!item.roles) {\n      return true; // Show if no specific roles are defined\n    }\n    return item.roles.includes(this.currentUserRole);\n  }\n}\n","<header class=\"header\">\n  <div class=\"header-left\">\n    <img src=\"assets/logo.png\" alt=\"Logo\" class=\"logo\">\n  </div>\n  <nav class=\"header-nav\">\n    <ng-container *ngFor=\"let item of topLevelNavItems\">\n      <a\n        *ngIf=\"shouldShowMenuItem(item)\"\n        [routerLink]=\"item.route\"\n        routerLinkActive=\"active-link\"\n        [routerLinkActiveOptions]=\"{ exact: true }\"\n        class=\"nav-link\"\n      >{{ item.label }}</a>\n    </ng-container>\n  </nav>\n  <div class=\"header-right\">\n    <a routerLink=\"/home\" class=\"download-btn\">Download</a>\n    <div class=\"user-profile\">\n      <span>Language</span>\n      <select class=\"country-dropdown\" [(ngModel)]=\"selectedLanguage\" (change)=\"onLanguageChange($event)\">\n        <option value=\"en\">en</option>\n        <option value=\"fr\">fr</option>\n        <option value=\"gr\">gr</option>\n      </select>\n    </div>\n  </div>\n</header>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}