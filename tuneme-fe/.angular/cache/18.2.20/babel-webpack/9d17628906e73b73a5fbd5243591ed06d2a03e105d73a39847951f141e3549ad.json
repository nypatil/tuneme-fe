{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink, RouterLinkActive } from '@angular/router';\nimport { NAV_ITEMS } from '../../shared/nav-items';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = () => ({\n  exact: true\n});\nfunction LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_li_1_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_li_1_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(6);\n      return i0.ɵɵresetView(ctx_r2.isMobileMenuOpen = false);\n    });\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const child_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", child_r5.route)(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(6, _c0));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(child_r5.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(child_r5.label);\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtemplate(1, LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_li_1_a_1_Template, 4, 7, \"a\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const child_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.shouldShowMenuItem(child_r5));\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 10);\n    i0.ɵɵtemplate(1, LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_li_1_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", item_r2.children);\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const item_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleSubMenu(item_r2));\n    });\n    i0.ɵɵelement(2, \"i\");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"i\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_ul_6_Template, 2, 1, \"ul\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(item_r2.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.label);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"fa-chevron-down\", !ctx_r2.isSubMenuExpanded(item_r2))(\"fa-chevron-up\", ctx_r2.isSubMenuExpanded(item_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isSubMenuExpanded(item_r2));\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_li_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function LeftNavMenuComponent_ng_container_5_li_1_ng_template_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.isMobileMenuOpen = false);\n    });\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"routerLink\", item_r2.route)(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(6, _c0));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(item_r2.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.label);\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtemplate(1, LeftNavMenuComponent_ng_container_5_li_1_ng_container_1_Template, 7, 9, \"ng-container\", 6)(2, LeftNavMenuComponent_ng_container_5_li_1_ng_template_2_Template, 4, 7, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const singleLink_r7 = i0.ɵɵreference(3);\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r2.children)(\"ngIfElse\", singleLink_r7);\n  }\n}\nfunction LeftNavMenuComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, LeftNavMenuComponent_ng_container_5_li_1_Template, 4, 2, \"li\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.shouldShowMenuItem(item_r2));\n  }\n}\nexport let LeftNavMenuComponent = /*#__PURE__*/(() => {\n  class LeftNavMenuComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.menuItems = NAV_ITEMS;\n      this.isMobileMenuOpen = false;\n      this.currentUserRole = '';\n      this.expandedItems = {}; // To track expanded state of parent items\n    }\n    ngOnInit() {\n      this.currentUserRole = this.authService.getUserRole();\n      // Filter out 'About' and 'Help' for the left-hand menu\n      this.menuItems = NAV_ITEMS.filter(item => item.label !== 'About' && item.label !== 'Help');\n      // Initialize expanded state based on active route\n      this.menuItems.forEach(item => {\n        if (item.children) {\n          this.expandedItems[item.label] = this.isAnyChildActive(item.children);\n        }\n      });\n    }\n    toggleMobileMenu() {\n      this.isMobileMenuOpen = !this.isMobileMenuOpen;\n    }\n    shouldShowMenuItem(item) {\n      if (!item.roles) {\n        return true;\n      }\n      return item.roles.includes(this.currentUserRole);\n    }\n    toggleSubMenu(item) {\n      if (item.children) {\n        this.expandedItems[item.label] = !this.expandedItems[item.label];\n      }\n    }\n    isSubMenuExpanded(item) {\n      return this.expandedItems[item.label] || false;\n    }\n    // Check if the current route matches the menu item's route or any of its children's routes\n    isActive(route) {\n      return this.router.url === route;\n    }\n    isAnyChildActive(children) {\n      return children.some(child => this.router.url.startsWith(child.route || ''));\n    }\n    static {\n      this.ɵfac = function LeftNavMenuComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || LeftNavMenuComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LeftNavMenuComponent,\n        selectors: [[\"app-left-nav-menu\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 6,\n        vars: 3,\n        consts: [[\"singleLink\", \"\"], [1, \"mobile-menu-toggle\", 3, \"click\"], [1, \"fas\", \"fa-bars\"], [1, \"left-nav-menu\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"nav-link\", \"parent-link\", 3, \"click\"], [1, \"fas\", \"expand-icon\"], [\"class\", \"sub-menu\", 4, \"ngIf\"], [1, \"sub-menu\"], [\"routerLinkActive\", \"active-link\", 3, \"routerLink\", \"routerLinkActiveOptions\", \"click\", 4, \"ngIf\"], [\"routerLinkActive\", \"active-link\", 3, \"click\", \"routerLink\", \"routerLinkActiveOptions\"], [\"routerLinkActive\", \"active-link\", 1, \"nav-link\", 3, \"click\", \"routerLink\", \"routerLinkActiveOptions\"]],\n        template: function LeftNavMenuComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1);\n            i0.ɵɵlistener(\"click\", function LeftNavMenuComponent_Template_div_click_0_listener() {\n              return ctx.toggleMobileMenu();\n            });\n            i0.ɵɵelement(1, \"i\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"aside\", 3)(3, \"nav\")(4, \"ul\");\n            i0.ɵɵtemplate(5, LeftNavMenuComponent_ng_container_5_Template, 2, 1, \"ng-container\", 4);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"open\", ctx.isMobileMenuOpen);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.menuItems);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, RouterLink, RouterLinkActive],\n        styles: [\".left-nav-menu[_ngcontent-%COMP%]{width:220px;background-color:#f4f4f4;padding:20px 0;box-shadow:2px 0 5px #0000001a;height:calc(100vh - 60px);position:fixed;top:60px;left:0;overflow-y:auto;transition:transform .3s ease-in-out;z-index:999}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;color:#333;text-decoration:none;transition:background-color .2s ease,color .2s ease}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;color:#007bff}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .parent-link[_ngcontent-%COMP%]{cursor:pointer;justify-content:space-between}.left-nav-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .parent-link[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{margin-left:auto;transition:transform .2s ease}.sub-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;background-color:#f0f0f0;border-top:1px solid #e0e0e0}.sub-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:40px}.sub-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background-color:#0056b3}.mobile-menu-toggle[_ngcontent-%COMP%]{display:none;position:fixed;top:15px;left:15px;z-index:1000;background-color:#007bff;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer}@media (max-width: 768px){.left-nav-menu[_ngcontent-%COMP%]{transform:translate(-100%);width:250px}.left-nav-menu.open[_ngcontent-%COMP%]{transform:translate(0)}.mobile-menu-toggle[_ngcontent-%COMP%]{display:block}.content-area[_ngcontent-%COMP%]{margin-left:0}}\"]\n      });\n    }\n  }\n  return LeftNavMenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}